{"version":3,"sources":["components/AddNameComponent.js","components/FilterComponent.js","components/BookComponent.js","components/Notification.js","services/names.js","App.js","index.js"],"names":["AddNameComponent","AddName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","FilterComponent","filter","handleFilterChange","Person","props","name","number","BookComponent","persons","removePerson","style","listStyleType","margin","padding","person","toLowerCase","includes","map","key","id","onClick","Notification","message","color","fontSize","backgroundColor","borderRadius","border","marginBottom","ErrorNotification","axios","get","then","response","data","newObject","post","object","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","error","setError","useEffect","nameService","event","target","preventDefault","personObject","displayNotification","setTimeout","alreadyThere","length","returnedName","concat","catch","console","log","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"8LAceA,EAZU,SAAC,GAAyE,IAAxEC,EAAuE,EAAvEA,QAASC,EAA8D,EAA9DA,QAASC,EAAqD,EAArDA,iBAAkBC,EAAmC,EAAnCA,UAAWC,EAAwB,EAAxBA,mBACtE,OACI,0BAAMC,SAAUL,GAChB,sCAAW,2BAAOM,MAAOL,EAASM,SAAUL,KAC5C,wCAAa,2BAAOI,MAAOH,EAAWI,SAAUH,KAChD,6BACE,4BAAQI,KAAK,UAAb,UCAKC,EANS,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,mBAC9B,OACI,kDAAuB,2BAAOL,MAAOI,EAAQH,SAAUI,MCFzDC,EAAS,SAACC,GACZ,OAAO,oCAAGA,EAAMC,KAAT,IAAgBD,EAAME,SAgBlBC,EAbO,SAAC,GAAqC,IAApCC,EAAmC,EAAnCA,QAASP,EAA0B,EAA1BA,OAAQQ,EAAkB,EAAlBA,aAMrC,OACI,wBAAIC,MAAO,CAACC,cAAe,OAAQC,OAAQ,IAAKC,QAAS,MANjCL,EAAQP,QAAO,SAAAa,GAAM,OAC7CA,EAAOT,KAAKU,cAAcC,SAASf,EAAOc,kBAAgBE,KAAI,SAAAH,GAAM,OACpE,wBAAII,IAAKJ,EAAOT,MAAM,kBAAC,EAAD,CAAQA,KAAMS,EAAOT,KAAMC,OAAQQ,EAAOR,SAAhE,IAA2E,4BAAQD,KAAMS,EAAOT,KAAMc,GAAIL,EAAOK,GAAIC,QAASX,GAAnD,gBCP7EY,EAAe,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAWpB,OAAgB,OAAZA,EACO,KAEJ,yBAAKZ,MAbc,CACtBa,MAAO,QACPC,SAAU,GACVC,gBAAiB,YACjBC,aAAc,EACdC,OAAQ,QACRd,QAAS,GACTe,aAAc,KAMqBN,IAGrCO,EAAoB,SAAC,GAAiB,IAAfP,EAAc,EAAdA,QAWzB,OAAgB,OAAZA,EACO,KAEJ,yBAAKZ,MAbc,CACtBa,MAAO,MACPC,SAAU,GACVC,gBAAiB,YACjBC,aAAc,EACdC,OAAQ,QACRd,QAAS,GACTe,aAAc,KAMqBN,I,gBCV5B,EApBA,WAEX,OADgBQ,IAAMC,IAHP,gBAIAC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KARP,eAQwBD,GACxBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAAAG,GAEX,OADgBP,IAAMQ,OAAN,UAbD,eAaC,YAA8BD,IAC/BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALA,SAACf,EAAIkB,GAEhB,OADgBP,IAAMS,IAAN,UAlBD,eAkBC,YAA2BpB,GAAMkB,GAClCL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCsF9BM,EAnGH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRjC,EADQ,KACCkC,EADD,OAEgBD,mBAAS,IAFzB,mBAERjD,EAFQ,KAECmD,EAFD,OAGoBF,mBAAS,IAH7B,mBAGR/C,EAHQ,KAGGkD,EAHH,OAIcH,mBAAS,IAJvB,mBAIRxC,EAJQ,KAIA4C,EAJA,OAKgBJ,mBAAS,MALzB,mBAKRnB,EALQ,KAKCwB,EALD,OAMYL,mBAAS,MANrB,mBAMRM,EANQ,KAMDC,EANC,KAQhBC,qBAAU,WACRC,IAEGlB,MAAK,SAAAnC,GAAK,OAAI6C,EAAW7C,QAC3B,IAmEH,OACE,6BACE,yCACA,kBAAC,EAAD,CAAiBI,OAAQA,EAAQC,mBA5DV,SAACiD,GAC1BN,EAAUM,EAAMC,OAAOvD,UA4DrB,yCACA,kBAAC,EAAD,CAAcyB,QAASA,IACvB,kBAAC,EAAD,CAAmBA,QAASyB,IAC5B,kBAAC,EAAD,CACExD,QA7DU,SAAC4D,GACfA,EAAME,iBACN,IAAMC,EAAe,CACjBjD,KAAMb,EACNc,OAAQZ,GAGN6D,EAAsB,WAC1BT,EAAW,SAAD,OAAUtD,IACpBgE,YAAW,WACPV,EAAW,QACV,MAGDW,EAAejD,EAAQP,QAAO,SAAAa,GAAM,OAAIA,EAAOT,OAASb,KACpC,KAAtB8D,EAAajD,MAAuC,IAAxBoD,EAAaC,QAAwC,KAAxBJ,EAAahD,OACxE4C,EACUI,GACPtB,MAAK,SAAA2B,GACJjB,EAAWlC,EAAQoD,OAAOD,IAC1BJ,OAEDM,OAAO,SAAAd,GACNe,QAAQC,IAAIhB,EAAMd,SAASC,MAC3Bc,EAASD,EAAMd,SAASC,KAAKa,UAEA,IAAxBU,EAAaC,QAClBM,OAAOC,QAAP,UAAkBzE,EAAlB,4EACF0D,EACUO,EAAa,GAAGtC,GAAImC,GAC3BtB,MAAK,SAAA2B,GACJjB,EAAWlC,EAAQS,KAAI,SAAAH,GAAM,OAAIA,EAAOK,KAAOsC,EAAa,GAAGtC,GAAKL,EAAS6C,MAC7EJ,OAEDM,OAAM,SAAAd,GACLC,EAAS,kBAAD,OAAmBxD,EAAnB,6CAKhBmD,EAAW,IACXC,EAAa,KAqBTpD,QAASA,EACTC,iBA3EmB,SAAC0D,GACxBR,EAAWQ,EAAMC,OAAOvD,QA2EpBH,UAAWA,EACXC,mBAzEqB,SAACwD,GAC1BP,EAAaO,EAAMC,OAAOvD,UA0ExB,uCACA,kBAAC,EAAD,CAAeW,QAASA,EAASP,OAAQA,EAAQQ,aAxBhC,SAAC0C,GAChBa,OAAOC,QAAP,iBAAyBd,EAAMC,OAAO/C,KAAtC,OACJ6C,EACUC,EAAMC,OAAOjC,IACpBa,KAAKU,EAAWlC,EAAQP,QAAO,SAAAa,GAAM,OAAIA,EAAOK,KAAOgC,EAAMC,OAAOjC,aC7E3E+C,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.76e7d8b9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst AddNameComponent = ({AddName, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={AddName}>\r\n        <div>name: <input value={newName} onChange={handleNameChange} /></div>\r\n        <div>number: <input value={newNumber} onChange={handleNumberChange}/></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default AddNameComponent","import React from 'react'\r\n\r\nconst FilterComponent = ({filter, handleFilterChange}) => {\r\n    return (\r\n        <div>filter shown with <input value={filter} onChange={handleFilterChange} /></div>\r\n    )\r\n}\r\n\r\nexport default FilterComponent","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return <>{props.name} {props.number}</>\r\n}\r\n\r\nconst BookComponent = ({persons, filter, removePerson}) => {\r\n    const displayPeople = () => persons.filter(person =>\r\n        person.name.toLowerCase().includes(filter.toLowerCase())).map(person => \r\n        <li key={person.name}><Person name={person.name} number={person.number} /> <button name={person.name} id={person.id} onClick={removePerson}>delete</button></li>\r\n      )\r\n\r\n    return (\r\n        <ul style={{listStyleType: 'none', margin: '0', padding: '0'}}>\r\n            {displayPeople()} \r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default BookComponent","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        fontSize: 20,\r\n        backgroundColor: 'lightgrey',\r\n        borderRadius: 5,\r\n        border: 'solid',\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return <div style={notificationStyle}>{message}</div>\r\n}\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    const notificationStyle = {\r\n        color: 'red',\r\n        fontSize: 20,\r\n        backgroundColor: 'lightgrey',\r\n        borderRadius: 5,\r\n        border: 'solid',\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    \r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return <div style={notificationStyle}>{message}</div>\r\n}\r\n\r\nexport { Notification, ErrorNotification }","import axios from 'axios'\r\nconst defaultURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(defaultURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(defaultURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = object => {\r\n    const request = axios.delete(`${defaultURL}/${object}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, object) => {\r\n    const request = axios.put(`${defaultURL}/${id}`, object)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\r\nimport AddNameComponent from './components/AddNameComponent'\r\nimport FilterComponent from './components/FilterComponent'\r\nimport BookComponent from './components/BookComponent'\r\nimport {Notification, ErrorNotification} from './components/Notification'\r\nimport nameService from './services/names'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ message, setMessage ] = useState(null)\r\n  const [ error, setError ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    nameService\r\n      .getAll()\r\n      .then(value => setPersons(value))\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const AddName = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n    }\r\n\r\n    const displayNotification = () => {\r\n      setMessage(`Added ${newName}`)\r\n      setTimeout(() => {\r\n          setMessage(null)\r\n        }, 3000)     \r\n    }\r\n\r\n    const alreadyThere = persons.filter(person => person.name === newName)\r\n    if (personObject.name !== '' && alreadyThere.length === 0 && personObject.number !== ''){\r\n      nameService\r\n        .create(personObject)\r\n        .then(returnedName => {\r\n          setPersons(persons.concat(returnedName))\r\n          displayNotification()\r\n        })\r\n        .catch( error => {\r\n          console.log(error.response.data)\r\n          setError(error.response.data.error)\r\n        })\r\n    } else if (alreadyThere.length !== 0) { \r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        nameService\r\n          .update(alreadyThere[0].id, personObject)\r\n          .then(returnedName => {\r\n            setPersons(persons.map(person => person.id !== alreadyThere[0].id ? person : returnedName))\r\n            displayNotification()\r\n          })\r\n          .catch(error => {\r\n            setError(`Information of ${newName} has already been removed from server`)\r\n          })\r\n      }\r\n    }\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const removePerson = (event) => {\r\n    if (window.confirm(`Delete ${event.target.name}?`)) {\r\n    nameService\r\n      .remove(event.target.id)\r\n      .then(setPersons(persons.filter(person => person.id !== event.target.id)))\r\n    }\r\n  }\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <FilterComponent filter={filter} handleFilterChange={handleFilterChange} />\r\n      <h2>add a new</h2>\r\n      <Notification message={message} />\r\n      <ErrorNotification message={error} />\r\n      <AddNameComponent \r\n        AddName={AddName} \r\n        newName={newName} \r\n        handleNameChange={handleNameChange} \r\n        newNumber={newNumber} \r\n        handleNumberChange={handleNumberChange} \r\n      />\r\n      <h2>Numbers</h2>\r\n      <BookComponent persons={persons} filter={filter} removePerson={removePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}